L.Control.Basemaps=L.Control.extend({_map:null,includes:L.Mixin.Events,options:{position:"bottomright",tileX:0,tileY:0,tileZ:0,layers:[]},basemap:null,onAdd:function(a){this._map=a;var b=L.DomUtil.create("div","basemaps leaflet-control closed");return L.DomEvent.disableClickPropagation(b),L.Browser.touch||L.DomEvent.disableScrollPropagation(b),this.options.basemaps.forEach(function(c,d){var e="basemap";0===d?(this.basemap=c,this._map.addLayer(c),e+=" active"):1===d&&(e+=" alt");var f={x:this.options.tileX,y:this.options.tileY},g=L.Util.template(c._url,L.extend({s:c._getSubdomain(f),x:f.x,y:c.options.tms?c._globalTileRange.max.y-f.y:f.y,z:this.options.tileZ},c.options)),h=L.DomUtil.create("div",e,b),i=L.DomUtil.create("img",null,h);i.src=g,c.options&&c.options.label&&(i.title=c.options.label),L.DomEvent.on(h,"click",function(){if(c!=this.basemap){a.removeLayer(this.basemap),a.addLayer(c),c.bringToBack(),a.fire("baselayerchange",c),this.basemap=c,L.DomUtil.removeClass(document.getElementsByClassName("basemap active")[0],"active"),L.DomUtil.addClass(h,"active");var b=0===d?1:0;L.DomUtil.removeClass(document.getElementsByClassName("basemap alt")[0],"alt"),L.DomUtil.addClass(document.getElementsByClassName("basemap")[b],"alt")}},this)},this),L.DomEvent.on(b,"mouseenter",function(){L.DomUtil.removeClass(b,"closed")},this),L.DomEvent.on(b,"mouseleave",function(){L.DomUtil.addClass(b,"closed")},this),this._container=b,this._container}}),L.control.basemaps=function(a){return new L.Control.Basemaps(a)};